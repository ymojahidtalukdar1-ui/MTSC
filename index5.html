
<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶è‡¶∏‡ßã ‡¶™‡¶°‡¶º‡¶ø - ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø‡¶Ç</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Kalpurush', 'Segoe UI', sans-serif;
        }

        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --success: #38a169;
            --danger: #e53e3e;
            --warning: #dd6b20;
            --light: #f7fafc;
            --dark: #2d3748;
        }

        body {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            color: var(--dark);
        }

        /* Authentication Styles */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .auth-box {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 500px;
            padding: 40px 30px;
            position: relative;
        }

        .admin-login-corner {
            position: absolute;
            top: 15px;
            right: 15px;
        }

        .admin-settings-btn {
            background: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--primary);
            transition: transform 0.3s ease;
        }

        .admin-settings-btn:hover {
            transform: rotate(90deg);
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            color: var(--primary);
            font-size: 28px;
            margin-bottom: 5px;
        }

        .logo p {
            color: #718096;
            font-size: 14px;
        }

        .tabs {
            display: flex;
            margin-bottom: 25px;
            background: #f7fafc;
            border-radius: 10px;
            padding: 5px;
        }

        .tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: var(--primary);
            color: white;
        }

        .form-container {
            display: none;
        }

        .form-container.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #4a5568;
            font-weight: 600;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        textarea {
            height: 100px;
            resize: vertical;
        }

        .phone-input {
            display: flex;
            align-items: center;
        }

        .country-code {
            background: #f7fafc;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-right: none;
            border-radius: 10px 0 0 10px;
            font-weight: 600;
            color: var(--primary);
        }

        .phone-input input {
            border-radius: 0 10px 10px 0;
        }

        button {
            padding: 14px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .btn-full {
            width: 100%;
        }

        button:hover {
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #4a5568;
        }

        .btn-danger {
            background: var(--danger);
        }

        .btn-success {
            background: var(--success);
        }

        .btn-warning {
            background: var(--warning);
        }

        .message {
            margin-top: 15px;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            display: none;
        }

        .success {
            background: #c6f6d5;
            color: #22543d;
        }

        .error {
            background: #fed7d7;
            color: #742a2a;
        }

        /* App Styles */
        .app-container {
            display: none;
        }

        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }

        .logout-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: auto;
        }

        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: none;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        /* Dashboard Styles */
        .welcome-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .welcome-card h2 {
            color: #4a5568;
            margin-bottom: 10px;
        }

        .date-display {
            color: #718096;
            font-size: 18px;
            margin-bottom: 20px;
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .action-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .action-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        /* Search Bar Styles */
        .search-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .search-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .search-input {
            flex: 1;
        }
        
        .class-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            display: none;
        }
        
        .class-filter {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .class-filter:hover {
            background: #edf2f7;
        }
        
        .class-filter.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .toggle-class-filters {
            text-align: center;
            margin-top: 10px;
        }

        .toggle-class-filters button {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
            width: auto;
            padding: 8px 16px;
        }

        /* Add Study Material Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #718096;
        }

        /* File Upload Styles */
        .file-upload-container {
            margin-top: 10px;
        }

        .file-upload-input {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .file-upload-input input {
            flex: 1;
        }

        .file-preview {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .file-preview-item {
            position: relative;
            width: 100px;
            height: 100px;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid #e2e8f0;
        }

        .file-preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .file-preview-item .remove-file {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        /* Study Materials List */
        .study-materials {
            display: grid;
            gap: 20px;
        }

        .material-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid var(--primary);
            position: relative;
        }

        .material-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .material-title {
            font-size: 20px;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .material-class {
            background: var(--primary);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
        }

        .material-date {
            color: #718096;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .material-author {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #718096;
            font-size: 14px;
            font-style: italic;
        }

        .author-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .material-content {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .material-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .material-image {
            width: 100%;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .material-image:hover {
            transform: scale(1.05);
        }

        .homework {
            background: #fffaf0;
            border: 1px solid #fed7aa;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .homework h4 {
            color: var(--warning);
            margin-bottom: 8px;
        }

        .material-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .delete-btn {
            background: var(--danger);
            width: auto;
            padding: 8px 16px;
            font-size: 14px;
        }

        .edit-btn {
            background: var(--warning);
            width: auto;
            padding: 8px 16px;
            font-size: 14px;
        }

        .no-materials {
            text-align: center;
            padding: 50px 20px;
            color: #718096;
        }

        .no-materials h3 {
            margin-bottom: 10px;
        }

        /* Admin Only Styles */
        .admin-only {
            border: 2px solid var(--danger);
        }

        .admin-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--danger);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }

        /* Admin Panel Styles */
        .admin-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .admin-panel h3 {
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .admin-control-card {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .admin-control-card h4 {
            margin-bottom: 10px;
            color: var(--dark);
        }

        .admin-control-card p {
            color: #718096;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: #f7fafc;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #718096;
        }

        /* User Profile Styles */
        .profile-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
        }

        .profile-info h3 {
            color: var(--dark);
            margin-bottom: 5px;
        }

        .profile-info p {
            color: #718096;
        }

        /* Users List Styles */
        .users-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .user-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .user-avatar-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            border: 3px solid var(--primary);
        }

        .user-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        /* Admin Setup Styles */
        .admin-setup {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .admin-setup h3 {
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }

        /* Profile Update Section */
        .profile-update-section {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 2px dashed #cbd5e0;
        }

        .profile-update-section h4 {
            color: var(--primary);
            margin-bottom: 15px;
            text-align: center;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: #718096;
        }

        .empty-state h3 {
            margin-bottom: 10px;
        }

        /* Image Modal */
        .image-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1001;
            justify-content: center;
            align-items: center;
        }

        .image-modal-content {
            max-width: 90%;
            max-height: 90%;
        }

        .image-modal-content img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            .auth-box {
                padding: 30px 20px;
            }
            
            .material-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .material-actions {
                flex-direction: column;
            }
            
            .admin-controls {
                grid-template-columns: 1fr;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .users-list {
                grid-template-columns: 1fr;
            }
            
            .search-bar {
                flex-direction: column;
            }
            
            .class-filters {
                justify-content: flex-start;
            }
        }
    </style>
</head>
<body>
    <!-- Authentication Section -->
    <div class="auth-container" id="auth-container">
        <div class="auth-box">
            <div class="admin-login-corner">
                <button class="admin-settings-btn" onclick="handleAdminLogin()">‚öôÔ∏è</button>
            </div>

            <div class="logo">
                <h1>‡¶è‡¶∏‡ßã ‡¶™‡¶°‡¶º‡¶ø</h1>
                <p>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ</p>
            </div>

            <div class="tabs">
                <div class="tab active" data-tab="login">‡¶≤‡¶ó‡¶á‡¶®</div>
                <div class="tab" data-tab="signup">‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™</div>
            </div>

            <!-- Login Form -->
            <div class="form-container active" id="login-form">
                <div class="form-group">
                    <label for="login-phone">‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label>
                    <div class="phone-input">
                        <div class="country-code">+880</div>
                        <input type="text" id="login-phone" placeholder="1XXXXXXXXX" maxlength="10">
                    </div>
                    <small style="color: #718096; font-size: 12px;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶® (+8801XXXXXXXXX)</small>
                </div>
                <div class="form-group">
                    <label for="login-password">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</label>
                    <input type="password" id="login-password" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="remember-me"> ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®
                    </label>
                </div>
                <button class="btn-full" id="login-btn">‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                
                <div class="message" id="login-message"></div>
            </div>

            <!-- Sign Up Form -->
            <div class="form-container" id="signup-form">
                <div class="form-group">
                    <label for="signup-name">‡¶™‡ßÅ‡¶∞‡ßã ‡¶®‡¶æ‡¶Æ</label>
                    <input type="text" id="signup-name" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßã ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶®">
                </div>
                <div class="form-group">
                    <label for="signup-phone">‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label>
                    <div class="phone-input">
                        <div class="country-code">+880</div>
                        <input type="text" id="signup-phone" placeholder="1XXXXXXXXX" maxlength="10">
                    </div>
                    <small style="color: #718096; font-size: 12px;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶® (+8801XXXXXXXXX)</small>
                </div>
                <div class="form-group">
                    <label for="signup-password">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</label>
                    <input type="password" id="signup-password" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®">
                </div>
                <div class="form-group">
                    <label for="signup-class">‡¶ï‡ßç‡¶≤‡¶æ‡¶∏</label>
                    <select id="signup-class">
                        <option value="">‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                        <option value="6">‡¶∑‡¶∑‡ßç‡¶† ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                        <option value="7">‡¶∏‡¶™‡ßç‡¶§‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                        <option value="8">‡¶Ö‡¶∑‡ßç‡¶ü‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                        <option value="9">‡¶®‡¶¨‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                        <option value="10">‡¶¶‡¶∂‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                        <option value="ssc">‡¶è‡¶∏‡¶è‡¶∏‡¶∏‡¶ø ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</option>
                        <option value="11">‡¶è‡¶ï‡¶æ‡¶¶‡¶∂ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ (‡¶è‡¶á‡¶ö‡¶è‡¶∏‡¶∏‡¶ø ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶¨‡¶∞‡ßç‡¶∑)</option>
                        <option value="12">‡¶¶‡ßç‡¶¨‡¶æ‡¶¶‡¶∂ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ (‡¶è‡¶á‡¶ö‡¶è‡¶∏‡¶∏‡¶ø ‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡¶Ø‡¶º ‡¶¨‡¶∞‡ßç‡¶∑)</option>
                    </select>
                </div>
                <button class="btn-full" id="signup-btn">‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                <div class="message" id="signup-message"></div>
            </div>
        </div>
    </div>

    <!-- User App Section -->
    <div class="app-container" id="user-app">
        <div class="header">
            <div class="nav">
                <div class="logo">
                    <h1>‡¶è‡¶∏‡ßã ‡¶™‡¶°‡¶º‡¶ø</h1>
                    <p>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ</p>
                </div>
                <div class="user-info">
                    <img id="user-avatar" src="" alt="User Avatar" class="user-avatar" onerror="this.src='https://via.placeholder.com/40'">
                    <span id="user-name">‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡ßá‡¶®‡ßç‡¶ü</span>
                    <button class="logout-btn" id="user-logout-btn">‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</button>
                </div>
            </div>
        </div>

        <div class="container">
            <!-- Search Bar Section -->
            <div class="search-container">
                <div class="search-bar">
                    <div class="search-input">
                        <input type="text" id="search-input" placeholder="‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º ‡¶¨‡¶æ ‡¶ü‡¶™‡¶ø‡¶ï ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶®...">
                    </div>
                    <button class="btn-full" id="search-btn" style="width: auto; padding: 12px 20px;">‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
                
                <div class="toggle-class-filters">
                    <button id="toggle-class-btn">‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                </div>
                
                <div class="class-filters" id="class-filters">
                    <div class="class-filter active" data-class="all">‡¶∏‡¶ï‡¶≤ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div>
                    <div class="class-filter" data-class="6">‡¶∑‡¶∑‡ßç‡¶† ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div>
                    <div class="class-filter" data-class="7">‡¶∏‡¶™‡ßç‡¶§‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div>
                    <div class="class-filter" data-class="8">‡¶Ö‡¶∑‡ßç‡¶ü‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div>
                    <div class="class-filter" data-class="9">‡¶®‡¶¨‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div>
                    <div class="class-filter" data-class="10">‡¶¶‡¶∂‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div>
                    <div class="class-filter" data-class="ssc">‡¶è‡¶∏‡¶è‡¶∏‡¶∏‡¶ø ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</div>
                    <div class="class-filter" data-class="11">‡¶è‡¶ï‡¶æ‡¶¶‡¶∂ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div>
                    <div class="class-filter" data-class="12">‡¶¶‡ßç‡¶¨‡¶æ‡¶¶‡¶∂ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</div>
                </div>
            </div>

            <div class="welcome-card">
                <h2 id="welcome-text">‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!</h2>
                <div class="date-display" id="current-date"></div>
                <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßç‡¶Ø‡¶¶‡ßá‡¶∞ ‡¶™‡¶°‡¶º‡¶æ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</p>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="action-card" onclick="openShareModal()">
                    <div class="action-icon">üìö</div>
                    <h3>‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                    <p>‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
                <div class="action-card" onclick="toggleProfileSection()">
                    <div class="action-icon">üë§</div>
                    <h3>‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</h3>
                    <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
                <div class="action-card" onclick="viewAllMaterials()">
                    <div class="action-icon">üìñ</div>
                    <h3>‡¶∏‡¶ï‡¶≤ ‡¶™‡¶°‡¶º‡¶æ</h3>
                    <p>‡¶∏‡¶ï‡¶≤ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶™‡¶°‡¶º‡¶æ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</p>
                </div>
            </div>

            <!-- Admin Panel (Only for Admin) -->
            <div class="admin-panel" id="admin-panel" style="display: none;">
                <h3>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h3>
                
                <div class="admin-controls">
                    <div class="admin-control-card">
                        <h4>‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</h4>
                        <p>‡¶∏‡¶ï‡¶≤ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        <button class="btn-full" onclick="showAllUsers()">‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                    </div>
                    <div class="admin-control-card">
                        <h4>‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®</h4>
                        <p>‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶ó‡ßç‡¶∞‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</p>
                        <button class="btn-full" onclick="showSystemStats()">‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                    </div>
                    <div class="admin-control-card">
                        <h4>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</h4>
                        <p>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        <button class="btn-full" onclick="openAdminSettings()">‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</button>
                    </div>
                </div>
                
                <div class="admin-stats" id="admin-stats">
                    <!-- Admin stats will be loaded here -->
                </div>
            </div>

            <!-- User Profile Section -->
            <div class="profile-section" id="profile-section">
                <div class="profile-header">
                    <img id="profile-avatar" src="" alt="Profile Avatar" class="profile-avatar" onerror="this.src='https://via.placeholder.com/80'">
                    <div class="profile-info">
                        <h3 id="profile-name">‡¶®‡¶æ‡¶Æ</h3>
                        <p id="profile-class">‡¶ï‡ßç‡¶≤‡¶æ‡¶∏</p>
                        <p id="profile-phone">‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</p>
                    </div>
                </div>
                
                <!-- Profile Update Section (Hidden by default) -->
                <div class="profile-update-section" id="profile-update-section" style="display: none;">
                    <h4>‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h4>
                    <div class="form-group">
                        <label for="profile-avatar-url">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶õ‡¶¨‡¶ø‡¶∞ URL</label>
                        <input type="url" id="profile-avatar-url" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶õ‡¶¨‡¶ø‡¶∞ URL ‡¶¶‡¶ø‡¶®">
                    </div>
                    
                    <div class="form-group">
                        <label for="profile-class-select">‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                        <select id="profile-class-select">
                            <option value="6">‡¶∑‡¶∑‡ßç‡¶† ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                            <option value="7">‡¶∏‡¶™‡ßç‡¶§‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                            <option value="8">‡¶Ö‡¶∑‡ßç‡¶ü‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                            <option value="9">‡¶®‡¶¨‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                            <option value="10">‡¶¶‡¶∂‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ</option>
                            <option value="ssc">‡¶è‡¶∏‡¶è‡¶∏‡¶∏‡¶ø ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</option>
                            <option value="11">‡¶è‡¶ï‡¶æ‡¶¶‡¶∂ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ (‡¶è‡¶á‡¶ö‡¶è‡¶∏‡¶∏‡¶ø ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶¨‡¶∞‡ßç‡¶∑)</option>
                            <option value="12">‡¶¶‡ßç‡¶¨‡¶æ‡¶¶‡¶∂ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ (‡¶è‡¶á‡¶ö‡¶è‡¶∏‡¶∏‡¶ø ‡¶¶‡ßç‡¶¨‡¶ø‡¶§‡ßÄ‡¶Ø‡¶º ‡¶¨‡¶∞‡ßç‡¶∑)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="new-password">‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</label>
                        <input type="password" id="new-password" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®">
                    </div>
                    
                    <div class="form-group">
                        <label for="confirm-password">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                        <input type="password" id="confirm-password" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®">
                    </div>
                    
                    <button class="btn-success" id="update-profile-btn">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                    <div class="message" id="profile-message"></div>
                </div>
                
                <button class="btn-full" onclick="toggleProfileUpdate()" id="toggle-profile-btn">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
            </div>

            <!-- Users List (Admin Only) -->
            <div class="users-list" id="users-list" style="display: none;">
                <!-- Users will be loaded here -->
            </div>

            <!-- Study Materials List -->
            <div class="study-materials" id="study-materials">
                <!-- ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶ó‡ßÅ‡¶≤‡ßã ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá -->
            </div>
        </div>
    </div>

    <!-- Share Study Material Modal -->
    <div class="modal" id="share-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeShareModal()">&times;</span>
            <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary);">‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
            
            <form id="add-material-form">
                <div class="form-group">
                    <label for="material-subject">‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º *</label>
                    <input type="text" id="material-subject" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ, ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø, ‡¶ó‡¶£‡¶ø‡¶§..." required>
                </div>
                <div class="form-group">
                    <label for="material-topic">‡¶ü‡¶™‡¶ø‡¶ï *</label>
                    <input type="text" id="material-topic" placeholder="‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶ü‡¶™‡¶ø‡¶ï" required>
                </div>
                <div class="form-group">
                    <label for="material-description">‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ *</label>
                    <textarea id="material-description" placeholder="‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="material-homework">‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶ú</label>
                    <textarea id="material-homework" placeholder="‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶Ø‡¶¶‡¶ø ‡¶•‡¶æ‡¶ï‡ßá)"></textarea>
                </div>
                <div class="form-group">
                    <label>‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                    <div class="file-upload-container">
                        <input type="file" id="file-upload" accept="image/*" multiple style="display: none;">
                        <button type="button" class="btn-full" onclick="document.getElementById('file-upload').click()">‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                        <div class="file-preview" id="file-preview"></div>
                    </div>
                </div>
                <button type="submit" class="btn-full">üìö ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>
            <div class="message" id="material-message"></div>
        </div>
    </div>

    <!-- Edit Study Material Modal -->
    <div class="modal" id="edit-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeEditModal()">&times;</span>
            <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary);">‡¶™‡¶°‡¶º‡¶æ ‡¶è‡¶°‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
            
            <form id="edit-material-form">
                <input type="hidden" id="edit-material-id">
                <div class="form-group">
                    <label for="edit-material-subject">‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º *</label>
                    <input type="text" id="edit-material-subject" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ, ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø, ‡¶ó‡¶£‡¶ø‡¶§..." required>
                </div>
                <div class="form-group">
                    <label for="edit-material-topic">‡¶ü‡¶™‡¶ø‡¶ï *</label>
                    <input type="text" id="edit-material-topic" placeholder="‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶ü‡¶™‡¶ø‡¶ï" required>
                </div>
                <div class="form-group">
                    <label for="edit-material-description">‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ *</label>
                    <textarea id="edit-material-description" placeholder="‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡¶°‡¶º‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="edit-material-homework">‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶ú</label>
                    <textarea id="edit-material-homework" placeholder="‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶Ø‡¶¶‡¶ø ‡¶•‡¶æ‡¶ï‡ßá)"></textarea>
                </div>
                <div class="form-group">
                    <label>‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                    <div class="file-upload-container">
                        <input type="file" id="edit-file-upload" accept="image/*" multiple style="display: none;">
                        <button type="button" class="btn-full" onclick="document.getElementById('edit-file-upload').click()">‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                        <div class="file-preview" id="edit-file-preview"></div>
                    </div>
                </div>
                <button type="submit" class="btn-success">üíæ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>
            <div class="message" id="edit-message"></div>
        </div>
    </div>

    <!-- Admin Settings Modal -->
    <div class="modal" id="admin-settings-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeAdminSettings()">&times;</span>
            <h3 style="text-align: center; margin-bottom: 20px; color: var(--primary);">‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</h3>
            
            <div class="form-group">
                <label for="admin-username">‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ</label>
                <input type="text" id="admin-username" placeholder="‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ">
            </div>
            <div class="form-group">
                <label for="admin-password">‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</label>
                <input type="password" id="admin-password" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°">
            </div>
            <div class="form-group">
                <label for="admin-confirm-password">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                <input type="password" id="admin-confirm-password" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®">
            </div>
            
            <button class="btn-success" id="save-admin-settings">‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <div class="message" id="admin-message"></div>
        </div>
    </div>

    <!-- Image Modal -->
    <div class="image-modal" id="image-modal">
        <div class="image-modal-content">
            <img id="modal-image" src="" alt="Study Material Image">
        </div>
    </div>

    <script>
        // ==================== ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ====================
        
        // ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶æ‡¶∞ ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏
        class AdvancedStorage {
            constructor() {
                this.localCache = new Map();
                this.lastSync = Date.now();
                this.syncInterval = 30000; // 30 seconds
                this.maxLocalItems = 1000; // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú‡ßá ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ (‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá)
                this.compressionEnabled = true;
                this.backupInterval = 60000; // 1 minute
                this.init();
            }
            
            init() {
                // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶≠‡¶æ‡¶≤ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
                setInterval(() => {
                    this.createBackup();
                }, this.backupInterval);
                
                // ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶≠‡¶æ‡¶≤ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
                setInterval(() => {
                    this.syncWithCloud();
                }, this.syncInterval);
            }
            
            // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú‡ßá ‡¶∏‡ßá‡¶≠
            saveToLocal(key, data) {
                try {
                    // ‡¶™‡ßÅ‡¶∞‡ßã‡¶®‡ßã ‡¶°‡¶æ‡¶ü‡¶æ ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶Ü‡¶™
                    this.cleanupLocalStorage();
                    
                    // ‡¶ï‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó
                    const processedData = this.compressData(data);
                    localStorage.setItem(key, processedData);
                    this.localCache.set(key, data);
                    return true;
                } catch (error) {
                    console.error('Local storage error:', error);
                    return false;
                }
            }
            
            // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡ßã‡¶°
            loadFromLocal(key) {
                try {
                    // ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶•‡ßá‡¶ï‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
                    if (this.localCache.has(key)) {
                        return this.localCache.get(key);
                    }
                    
                    const data = localStorage.getItem(key);
                    if (data) {
                        const parsedData = this.decompressData(data);
                        this.localCache.set(key, parsedData);
                        return parsedData;
                    }
                    return null;
                } catch (error) {
                    console.error('Local storage load error:', error);
                    return null;
                }
            }
            
            // ‡¶π‡¶æ‡¶á‡¶¨‡ßç‡¶∞‡¶ø‡¶° ‡¶∏‡ßá‡¶≠ (‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ + ‡¶ï‡ßç‡¶≤‡¶æ‡¶â‡¶°)
            async hybridSave(key, data) {
                // ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤‡ßá ‡¶∏‡ßá‡¶≠
                this.saveToLocal(key, data);
            }
            
            // ‡¶π‡¶æ‡¶á‡¶¨‡ßç‡¶∞‡¶ø‡¶° ‡¶≤‡ßã‡¶°
            async hybridLoad(key) {
                // ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡ßã‡¶°
                let data = this.loadFromLocal(key);
                
                return data || [];
            }
            
            // ‡¶°‡¶æ‡¶ü‡¶æ ‡¶ï‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßá‡¶∂‡¶®
            compressData(data) {
                if (!this.compressionEnabled) {
                    return JSON.stringify(data);
                }
                
                try {
                    // ‡¶∏‡¶∞‡¶≤ ‡¶ï‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßá‡¶∂‡¶® - ‡¶¨‡¶°‡¶º ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Ç ‡¶ï‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßá‡¶∏
                    const jsonString = JSON.stringify(data);
                    // ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶ï‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßá‡¶∂‡¶® (‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡¶¨‡ßá LZ-String ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá)
                    return btoa(unescape(encodeURIComponent(jsonString)));
                } catch (error) {
                    console.warn('Compression failed, using normal JSON');
                    return JSON.stringify(data);
                }
            }
            
            // ‡¶°‡¶æ‡¶ü‡¶æ ‡¶°‡¶ø‡¶ï‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßá‡¶∂‡¶®
            decompressData(data) {
                if (!this.compressionEnabled) {
                    return JSON.parse(data);
                }
                
                try {
                    // ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶°‡¶ø‡¶ï‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßá‡¶∂‡¶®
                    const decompressed = decodeURIComponent(escape(atob(data)));
                    return JSON.parse(decompressed);
                } catch (error) {
                    // ‡¶ï‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶®‡¶æ ‡¶π‡¶≤‡ßá ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ JSON ‡¶™‡¶æ‡¶∞‡ßç‡¶∏
                    try {
                        return JSON.parse(data);
                    } catch (e) {
                        console.error('Decompression failed:', e);
                        return null;
                    }
                }
            }
            
            // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶Ü‡¶™
            cleanupLocalStorage() {
                const materials = this.loadFromLocal('studyMaterials') || [];
                if (materials.length > this.maxLocalItems) {
                    // ‡¶™‡ßÅ‡¶∞‡ßã‡¶®‡ßã ‡ß®‡ß¶% ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠
                    const removeCount = Math.floor(this.maxLocalItems * 0.2);
                    const recentMaterials = materials.slice(-this.maxLocalItems);
                    this.saveToLocal('studyMaterials', recentMaterials);
                    
                    console.log(`Cleaned up ${removeCount} old materials`);
                }
            }
            
            // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡ßà‡¶∞‡¶ø
            createBackup() {
                try {
                    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
                    const backupData = {
                        timestamp: timestamp,
                        users: this.loadFromLocal('users') || [],
                        materials: this.loadFromLocal('studyMaterials') || [],
                        adminCredentials: this.loadFromLocal('adminCredentials') || {}
                    };
                    
                    localStorage.setItem(`backup_${timestamp}`, JSON.stringify(backupData));
                    
                    // ‡¶™‡ßÅ‡¶∞‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü (‡¶∂‡ßÅ‡¶ß‡ßÅ ‡ß´‡¶ü‡¶ø ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®)
                    this.cleanupOldBackups();
                } catch (error) {
                    console.error('Backup creation failed:', error);
                }
            }
            
            // ‡¶™‡ßÅ‡¶∞‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶Ü‡¶™
            cleanupOldBackups() {
                const backups = [];
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (key.startsWith('backup_')) {
                        backups.push(key);
                    }
                }
                
                // ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®
                backups.sort();
                
                // ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∂‡ßá‡¶∑‡ßá‡¶∞ ‡ß´‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®
                while (backups.length > 5) {
                    const oldestBackup = backups.shift();
                    localStorage.removeItem(oldestBackup);
                }
            }
            
            // ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶π‡ßá‡¶≤‡¶• ‡¶ö‡ßá‡¶ï
            getStorageHealth() {
                const totalSize = JSON.stringify(localStorage).length;
                const maxSize = 5 * 1024 * 1024; // 5MB
                const usagePercent = (totalSize / maxSize) * 100;
                
                return {
                    used: this.formatBytes(totalSize),
                    max: this.formatBytes(maxSize),
                    percent: usagePercent.toFixed(1),
                    status: usagePercent > 90 ? 'danger' : usagePercent > 70 ? 'warning' : 'healthy'
                };
            }
            
            // ‡¶¨‡¶æ‡¶á‡¶ü‡¶∏ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü
            formatBytes(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            // ‡¶ï‡ßç‡¶≤‡¶æ‡¶â‡¶° ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï
            async syncWithCloud() {
                // No cloud sync in this version
            }
            
            // ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®
            getStorageStats() {
                const stats = {
                    users: (this.loadFromLocal('users') || []).length,
                    materials: (this.loadFromLocal('studyMaterials') || []).length,
                    backups: 0,
                    totalSize: 0
                };
                
                // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶ó‡¶£‡¶®‡¶æ
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (key.startsWith('backup_')) {
                        stats.backups++;
                    }
                    stats.totalSize += localStorage.getItem(key).length;
                }
                
                return stats;
            }
        }
        
        // ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶æ‡¶∞ ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú
        const storageManager = new AdvancedStorage();
        
        // ==================== ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶è‡¶¨‡¶Ç ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ====================
        
        let currentSearchQuery = '';
        let currentFilterClass = 'all';
        
        // ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø
        document.getElementById('search-btn').addEventListener('click', function() {
            currentSearchQuery = document.getElementById('search-input').value;
            loadStudyMaterials();
        });
        
        // ‡¶è‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡ßÄ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö
        document.getElementById('search-input').addEventListener('keyup', function(e) {
            if (e.key === 'Enter') {
                currentSearchQuery = this.value;
                loadStudyMaterials();
            }
        });
        
        // ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ü‡¶ó‡¶≤
        document.getElementById('toggle-class-btn').addEventListener('click', function() {
            const classFilters = document.getElementById('class-filters');
            if (classFilters.style.display === 'none' || classFilters.style.display === '') {
                classFilters.style.display = 'flex';
                this.textContent = '‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®';
            } else {
                classFilters.style.display = 'none';
                this.textContent = '‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
            }
        });
        
        // ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü
        document.querySelectorAll('.class-filter').forEach(filter => {
            filter.addEventListener('click', function() {
                // ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                document.querySelectorAll('.class-filter').forEach(f => f.classList.remove('active'));
                this.classList.add('active');
                
                currentFilterClass = this.getAttribute('data-class');
                loadStudyMaterials();
            });
        });
        
        // ==================== ‡¶Æ‡ßÇ‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡¶ú‡¶ø‡¶ï ====================
        
        // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶°‡ßá‡¶®‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤
        const DEFAULT_ADMIN_USERNAME = "admin";
        const DEFAULT_ADMIN_PASSWORD = "admin123";

        // ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®
        function validateBangladeshiPhone(phone) {
            const regex = /^1[3-9]\d{8}$/;
            return regex.test(phone);
        }

        // ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        function formatPhoneNumber(phone) {
            return '+880' + phone;
        }

        // ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        function getClassName(classValue) {
            const classNames = {
                '6': '‡¶∑‡¶∑‡ßç‡¶† ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ',
                '7': '‡¶∏‡¶™‡ßç‡¶§‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ',
                '8': '‡¶Ö‡¶∑‡ßç‡¶ü‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ',
                '9': '‡¶®‡¶¨‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ',
                '10': '‡¶¶‡¶∂‡¶Æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ',
                'ssc': '‡¶è‡¶∏‡¶è‡¶∏‡¶∏‡¶ø ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ',
                '11': '‡¶è‡¶ï‡¶æ‡¶¶‡¶∂ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ',
                '12': '‡¶¶‡ßç‡¶¨‡¶æ‡¶¶‡¶∂ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ',
                'admin': '‡¶è‡¶°‡¶Æ‡¶ø‡¶®'
            };
            return classNames[classValue] || '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ';
        }

        // ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç
        document.getElementById('file-upload').addEventListener('change', function(e) {
            const files = e.target.files;
            const previewContainer = document.getElementById('file-preview');
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const previewItem = document.createElement('div');
                        previewItem.className = 'file-preview-item';
                        previewItem.innerHTML = `
                            <img src="${e.target.result}" alt="Preview">
                            <button type="button" class="remove-file" onclick="this.parentElement.remove()">√ó</button>
                        `;
                        previewContainer.appendChild(previewItem);
                    };
                    reader.readAsDataURL(file);
                }
            }
        });

        // ‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶°‡ßá ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç
        document.getElementById('edit-file-upload').addEventListener('change', function(e) {
            const files = e.target.files;
            const previewContainer = document.getElementById('edit-file-preview');
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const previewItem = document.createElement('div');
                        previewItem.className = 'file-preview-item';
                        previewItem.innerHTML = `
                            <img src="${e.target.result}" alt="Preview">
                            <button type="button" class="remove-file" onclick="this.parentElement.remove()">√ó</button>
                        `;
                        previewContainer.appendChild(previewItem);
                    };
                    reader.readAsDataURL(file);
                }
            }
        });

        // ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡ßá‡¶ï‡ßá URL ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßÅ‡¶®
        function getUploadedImageUrls() {
            const previewItems = document.querySelectorAll('#file-preview img');
            const urls = [];
            previewItems.forEach(img => {
                urls.push(img.src);
            });
            return urls;
        }

        // ‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶°‡ßá ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡ßá‡¶ï‡ßá URL ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßÅ‡¶®
        function getEditUploadedImageUrls() {
            const previewItems = document.querySelectorAll('#edit-file-preview img');
            const urls = [];
            previewItems.forEach(img => {
                urls.push(img.src);
            });
            return urls;
        }

        // ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        function formatDate(date) {
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            return date.toLocaleDateString('bn-BD', options);
        }

        // ‡¶Æ‡¶°‡ßá‡¶≤ ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        function openShareModal() {
            document.getElementById('share-modal').style.display = 'flex';
        }

        function closeShareModal() {
            document.getElementById('share-modal').style.display = 'none';
            document.getElementById('add-material-form').reset();
            document.getElementById('material-message').innerHTML = '';
            
            // ‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
            document.getElementById('file-preview').innerHTML = '';
        }

        function openEditModal(materialId) {
            const materials = storageManager.loadFromLocal('studyMaterials') || [];
            const material = materials.find(m => m.id === materialId);
            
            if (material) {
                document.getElementById('edit-material-id').value = material.id;
                document.getElementById('edit-material-subject').value = material.subject;
                document.getElementById('edit-material-topic').value = material.topic;
                document.getElementById('edit-material-description').value = material.description;
                document.getElementById('edit-material-homework').value = material.homework || '';
                
                // ‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                document.getElementById('edit-file-preview').innerHTML = '';
                
                document.getElementById('edit-modal').style.display = 'flex';
            }
        }

        function closeEditModal() {
            document.getElementById('edit-modal').style.display = 'none';
            document.getElementById('edit-material-form').reset();
            document.getElementById('edit-message').innerHTML = '';
        }

        function openAdminSettings() {
            const adminCredentials = storageManager.loadFromLocal('adminCredentials') || {};
            document.getElementById('admin-username').value = adminCredentials.username || '';
            document.getElementById('admin-settings-modal').style.display = 'flex';
        }

        function closeAdminSettings() {
            document.getElementById('admin-settings-modal').style.display = 'none';
            document.getElementById('admin-message').innerHTML = '';
        }

        // ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Æ‡¶°‡ßá‡¶≤ ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®
        function openImageModal(imageUrl) {
            document.getElementById('modal-image').src = imageUrl;
            document.getElementById('image-modal').style.display = 'flex';
        }

        // ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Æ‡¶°‡ßá‡¶≤ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
        function closeImageModal() {
            document.getElementById('image-modal').style.display = 'none';
        }

        // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶ü‡¶ó‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
        function toggleProfileSection() {
            const profileSection = document.getElementById('profile-section');
            if (profileSection.style.display === 'none' || profileSection.style.display === '') {
                profileSection.style.display = 'block';
                loadProfileData();
            } else {
                profileSection.style.display = 'none';
            }
        }

        // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶ü‡¶ó‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
        function toggleProfileUpdate() {
            const updateSection = document.getElementById('profile-update-section');
            const toggleBtn = document.getElementById('toggle-profile-btn');
            
            if (updateSection.style.display === 'none' || updateSection.style.display === '') {
                updateSection.style.display = 'block';
                toggleBtn.textContent = '‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®';
            } else {
                updateSection.style.display = 'none';
                toggleBtn.textContent = '‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
            }
        }

        // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
        function loadProfileData() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser) {
                document.getElementById('profile-name').textContent = currentUser.name;
                document.getElementById('profile-class').textContent = getClassName(currentUser.class);
                document.getElementById('profile-phone').textContent = currentUser.phone;
                document.getElementById('profile-avatar').src = currentUser.avatar || 'https://via.placeholder.com/80';
                
                // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                document.getElementById('profile-avatar-url').value = currentUser.avatar || '';
                document.getElementById('profile-class-select').value = currentUser.class;
            }
        }

        // ‡¶∏‡ßç‡¶ü‡¶æ‡¶°‡¶ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶è‡¶¨‡¶Ç ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶π)
        async function loadStudyMaterials() {
            try {
                // ‡¶π‡¶æ‡¶á‡¶¨‡ßç‡¶∞‡¶ø‡¶° ‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                const materials = await storageManager.hybridLoad('studyMaterials');
                
                // ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                let filteredMaterials = materials;
                
                // ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞
                if (currentFilterClass !== 'all') {
                    filteredMaterials = filteredMaterials.filter(material => 
                        material.class === currentFilterClass
                    );
                }
                
                // ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∞‡¶ø ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞
                if (currentSearchQuery.trim() !== '') {
                    const query = currentSearchQuery.toLowerCase();
                    filteredMaterials = filteredMaterials.filter(material => 
                        material.subject.toLowerCase().includes(query) ||
                        material.topic.toLowerCase().includes(query) ||
                        material.description.toLowerCase().includes(query)
                    );
                }
                
                // ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã (‡¶®‡¶§‡ßÅ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßÅ‡¶∞‡¶æ‡¶®‡ßã)
                filteredMaterials.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                // UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                displayStudyMaterials(filteredMaterials);
                
            } catch (error) {
                console.error('Error loading study materials:', error);
                document.getElementById('study-materials').innerHTML = `
                    <div class="error-message">
                        <p>‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                    </div>
                `;
            }
        }

        // ‡¶∏‡ßç‡¶ü‡¶æ‡¶°‡¶ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá
        function displayStudyMaterials(materials) {
            const container = document.getElementById('study-materials');
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            
            if (materials.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <h3>‡¶ï‡ßã‡¶® ‡¶™‡¶°‡¶º‡¶æ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</h3>
                        <p>${currentSearchQuery || currentFilterClass !== 'all' ? '‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶æ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®' : '‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®!'}</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = materials.map(material => {
                const isAuthor = material.authorPhone === currentUser.phone;
                const isAdmin = currentUser.type === 'admin';
                
                return `
                <div class="material-card ${isAdmin ? 'admin-only' : ''}">
                    ${isAdmin ? '<div class="admin-badge">‡¶è‡¶°‡¶Æ‡¶ø‡¶®</div>' : ''}
                    <div class="material-header">
                        <div>
                            <h3 class="material-title">${material.subject} - ${material.topic}</h3>
                            <div class="material-date">
                                ${new Date(material.date).toLocaleDateString('bn-BD')} 
                            </div>
                            <div class="material-author">
                                ${material.authorAvatar ? `<img src="${material.authorAvatar}" alt="Author" class="author-avatar" onerror="this.style.display='none'">` : ''}
                                ${material.author} (${getClassName(material.class)})
                            </div>
                        </div>
                        <div class="material-class">${getClassName(material.class)}</div>
                    </div>
                    <div class="material-content">
                        <p>${material.description}</p>
                    </div>
                    ${material.imageUrls && material.imageUrls.length > 0 ? `
                        <div class="material-images">
                            ${material.imageUrls.map(url => `
                                <img src="${url}" alt="Study Material" class="material-image" onclick="openImageModal('${url}')" onerror="this.style.display='none'">
                            `).join('')}
                        </div>
                    ` : ''}
                    ${material.homework ? `
                        <div class="homework">
                            <h4>üè† ‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶ú</h4>
                            <p>${material.homework}</p>
                        </div>
                    ` : ''}
                    <div class="material-actions">
                        ${(isAdmin || isAuthor) ? `
                            <button class="edit-btn" onclick="openEditModal(${material.id})">‚úèÔ∏è ‡¶è‡¶°‡¶ø‡¶ü</button>
                        ` : ''}
                        ${isAdmin ? `
                            <button class="delete-btn" onclick="deleteMaterial(${material.id})">üóëÔ∏è ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</button>
                        ` : ''}
                    </div>
                </div>
                `;
            }).join('');
        }

        // ==================== ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ====================

        // DOM ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶∞
        document.addEventListener('DOMContentLoaded', function() {
            // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            updateDate();
            
            // ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶æ‡¶∞ ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
            initializeStorage();
            
            // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
            checkAppState();
            
            // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
            setupEventListeners();
        });

        // ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        function updateDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            document.getElementById('current-date').textContent = now.toLocaleDateString('bn-BD', options);
        }

        // ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶®
        function initializeStorage() {
            // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶°‡ßá‡¶®‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            const existingAdmin = storageManager.loadFromLocal('adminCredentials');
            if (!existingAdmin || !existingAdmin.username) {
                storageManager.saveToLocal('adminCredentials', {
                    username: DEFAULT_ADMIN_USERNAME,
                    password: DEFAULT_ADMIN_PASSWORD
                });
            }
            
            // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡¶¶‡¶ø ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá
            const existingUsers = storageManager.loadFromLocal('users');
            if (!existingUsers || existingUsers.length === 0) {
                storageManager.saveToLocal('users', []);
            }
            
            const existingMaterials = storageManager.loadFromLocal('studyMaterials');
            if (!existingMaterials || existingMaterials.length === 0) {
                storageManager.saveToLocal('studyMaterials', []);
            }
        }

        // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶ö‡ßá‡¶ï
        function checkAppState() {
            const currentUser = localStorage.getItem('currentUser');
            if (currentUser) {
                showUserApp();
                loadStudyMaterials();
            } else {
                showAuth();
            }
        }

        // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
        function setupEventListeners() {
            // ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    
                    // ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶®
                    document.querySelectorAll('.form-container').forEach(form => {
                        form.classList.remove('active');
                    });
                    document.getElementById(`${tabName}-form`).classList.add('active');
                });
            });
            
            // ‡¶≤‡¶ó‡¶á‡¶® ‡¶´‡¶∞‡ßç‡¶Æ
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            
            // ‡¶∏‡¶æ‡¶á‡¶®‡¶Ü‡¶™ ‡¶´‡¶∞‡ßç‡¶Æ
            document.getElementById('signup-btn').addEventListener('click', handleSignup);
            
            // ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
            document.getElementById('user-logout-btn').addEventListener('click', handleLogout);
            
            // ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ
            document.getElementById('add-material-form').addEventListener('submit', function(e) {
                e.preventDefault();
                addStudyMaterial();
            });
            
            // ‡¶™‡¶°‡¶º‡¶æ ‡¶è‡¶°‡¶ø‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ
            document.getElementById('edit-material-form').addEventListener('submit', function(e) {
                e.preventDefault();
                updateStudyMaterial();
            });
            
            // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ
            document.getElementById('update-profile-btn').addEventListener('click', updateProfile);
            
            // ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠
            document.getElementById('save-admin-settings').addEventListener('click', saveAdminSettings);
            
            // ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Æ‡¶°‡ßá‡¶≤ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü
            document.getElementById('image-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeImageModal();
                }
            });
        }

        // ‡¶≤‡¶ó‡¶á‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
        function handleLogin() {
            const phone = document.getElementById('login-phone').value;
            const password = document.getElementById('login-password').value;
            
            if (!validateBangladeshiPhone(phone)) {
                showMessage('login-message', '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßà‡¶ß ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®', 'error');
                return;
            }
            
            if (!password) {
                showMessage('login-message', '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®', 'error');
                return;
            }
            
            const formattedPhone = formatPhoneNumber(phone);
            const users = storageManager.loadFromLocal('users') || [];
            const user = users.find(u => u.phone === formattedPhone && u.password === password);
            
            if (user) {
                // ‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡¶´‡¶≤
                localStorage.setItem('currentUser', JSON.stringify(user));
                showUserApp();
                loadStudyMaterials();
                showMessage('login-message', '‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
            } else {
                showMessage('login-message', '‡¶≠‡ßÅ‡¶≤ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¨‡¶æ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°', 'error');
            }
        }

        // ‡¶∏‡¶æ‡¶á‡¶®‡¶Ü‡¶™ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
        function handleSignup() {
            const name = document.getElementById('signup-name').value;
            const phone = document.getElementById('signup-phone').value;
            const password = document.getElementById('signup-password').value;
            const classValue = document.getElementById('signup-class').value;
            
            if (!name) {
                showMessage('signup-message', '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶®', 'error');
                return;
            }
            
            if (!validateBangladeshiPhone(phone)) {
                showMessage('signup-message', '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßà‡¶ß ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®', 'error');
                return;
            }
            
            if (!password) {
                showMessage('signup-message', '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®', 'error');
                return;
            }
            
            if (!classValue) {
                showMessage('signup-message', '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡ßç‡¶∞‡ßá‡¶£‡ßÄ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®', 'error');
                return;
            }
            
            const formattedPhone = formatPhoneNumber(phone);
            const users = storageManager.loadFromLocal('users') || [];
            
            // ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡¶¶‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶•‡¶æ‡¶ï‡ßá
            if (users.find(u => u.phone === formattedPhone)) {
                showMessage('signup-message', '‡¶è‡¶á ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'error');
                return;
            }
            
            // ‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
            const newUser = {
                name: name,
                phone: formattedPhone,
                password: password,
                class: classValue,
                type: 'student',
                avatar: ''
            };
            
            users.push(newUser);
            storageManager.hybridSave('users', users);
            
            showMessage('signup-message', '‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶è‡¶ñ‡¶® ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®', 'success');
            
            // ‡¶≤‡¶ó‡¶á‡¶® ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡ßá ‡¶∏‡ßÅ‡¶á‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶®
            document.querySelector('.tab[data-tab="login"]').click();
            document.getElementById('login-phone').value = phone;
        }

        // ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
        function handleAdminLogin() {
            const username = prompt("‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ ‡¶¶‡¶ø‡¶®:");
            const password = prompt("‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®:");
            
            if (!username || !password) {
                alert("‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®");
                return;
            }
            
            // ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ï‡ßç‡¶∞‡ßá‡¶°‡ßá‡¶®‡¶∂‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶ö‡ßá‡¶ï
            const adminCredentials = storageManager.loadFromLocal('adminCredentials') || {
                username: DEFAULT_ADMIN_USERNAME,
                password: DEFAULT_ADMIN_PASSWORD
            };
            
            if (username === adminCredentials.username && password === adminCredentials.password) {
                const adminUser = {
                    name: "‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®",
                    phone: "admin",
                    type: "admin"
                };
                
                localStorage.setItem('currentUser', JSON.stringify(adminUser));
                showUserApp();
                loadStudyMaterials();
                showMessage('login-message', '‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
            } else {
                alert("‡¶≠‡ßÅ‡¶≤ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ ‡¶¨‡¶æ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°");
            }
        }

        // ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞
        function handleLogout() {
            localStorage.removeItem('currentUser');
            showAuth();
            showMessage('login-message', '‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'success');
        }

        // ‡¶™‡¶°‡¶º‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
        function addStudyMaterial() {
            const subject = document.getElementById('material-subject').value;
            const topic = document.getElementById('material-topic').value;
            const description = document.getElementById('material-description').value;
            const homework = document.getElementById('material-homework').value;
            const uploadedImageUrls = getUploadedImageUrls();
            
            if (!subject || !topic || !description) {
                showMessage('material-message', '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º, ‡¶ü‡¶™‡¶ø‡¶ï ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®', 'error');
                return;
            }
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const materials = storageManager.loadFromLocal('studyMaterials') || [];
            
            const newMaterial = {
                id: Date.now(),
                subject: subject,
                topic: topic,
                description: description,
                homework: homework,
                imageUrls: uploadedImageUrls,
                author: currentUser.name,
                authorPhone: currentUser.phone,
                authorAvatar: currentUser.avatar || '',
                class: currentUser.class,
                date: new Date().toISOString()
            };
            
            materials.push(newMaterial);
            storageManager.hybridSave('studyMaterials', materials);
            
            showMessage('material-message', '‡¶™‡¶°‡¶º‡¶æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
            closeShareModal();
            loadStudyMaterials();
        }

        // ‡¶™‡¶°‡¶º‡¶æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        function updateStudyMaterial() {
            const materialId = parseInt(document.getElementById('edit-material-id').value);
            const subject = document.getElementById('edit-material-subject').value;
            const topic = document.getElementById('edit-material-topic').value;
            const description = document.getElementById('edit-material-description').value;
            const homework = document.getElementById('edit-material-homework').value;
            const uploadedImageUrls = getEditUploadedImageUrls();
            
            if (!subject || !topic || !description) {
                showMessage('edit-message', '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º, ‡¶ü‡¶™‡¶ø‡¶ï ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®', 'error');
                return;
            }
            
            const materials = storageManager.loadFromLocal('studyMaterials') || [];
            const materialIndex = materials.findIndex(m => m.id === materialId);
            
            if (materialIndex !== -1) {
                materials[materialIndex].subject = subject;
                materials[materialIndex].topic = topic;
                materials[materialIndex].description = description;
                materials[materialIndex].homework = homework;
                materials[materialIndex].imageUrls = uploadedImageUrls;
                materials[materialIndex].date = new Date().toISOString();
                
                storageManager.hybridSave('studyMaterials', materials);
                
                showMessage('edit-message', '‡¶™‡¶°‡¶º‡¶æ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
                setTimeout(() => {
                    closeEditModal();
                    loadStudyMaterials();
                }, 1000);
            }
        }

        // ‡¶™‡¶°‡¶º‡¶æ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        function deleteMaterial(materialId) {
            if (confirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶™‡¶°‡¶º‡¶æ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                const materials = storageManager.loadFromLocal('studyMaterials') || [];
                const filteredMaterials = materials.filter(m => m.id !== materialId);
                
                storageManager.hybridSave('studyMaterials', filteredMaterials);
                loadStudyMaterials();
            }
        }

        // ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
        function updateProfile() {
            const avatarUrl = document.getElementById('profile-avatar-url').value;
            const newClass = document.getElementById('profile-class-select').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const users = storageManager.loadFromLocal('users') || [];
            const userIndex = users.findIndex(u => u.phone === currentUser.phone);
            
            if (userIndex !== -1) {
                // ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
                if (avatarUrl) {
                    users[userIndex].avatar = avatarUrl;
                    currentUser.avatar = avatarUrl;
                }
                
                if (newClass) {
                    users[userIndex].class = newClass;
                    currentUser.class = newClass;
                }
                
                if (newPassword) {
                    if (newPassword === confirmPassword) {
                        users[userIndex].password = newPassword;
                    } else {
                        showMessage('profile-message', '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡ßá‡¶≤‡ßá ‡¶®‡¶æ', 'error');
                        return;
                    }
                }
                
                storageManager.hybridSave('users', users);
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                showMessage('profile-message', '‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
                loadProfileData();
                
                // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶´‡ßá‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                document.getElementById('user-name').textContent = currentUser.name;
                document.getElementById('user-avatar').src = currentUser.avatar || 'https://via.placeholder.com/40';
                document.getElementById('welcome-text').textContent = `${currentUser.name}, ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!`;
                
                loadStudyMaterials();
            }
        }

        // ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®
        function saveAdminSettings() {
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;
            const confirmPassword = document.getElementById('admin-confirm-password').value;
            
            const adminCredentials = storageManager.loadFromLocal('adminCredentials') || {};
            
            if (username) {
                adminCredentials.username = username;
            }
            
            if (password) {
                if (password === confirmPassword) {
                    adminCredentials.password = password;
                } else {
                    showMessage('admin-message', '‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡ßá‡¶≤‡ßá ‡¶®‡¶æ', 'error');
                    return;
                }
            }
            
            storageManager.saveToLocal('adminCredentials', adminCredentials);
            showMessage('admin-message', '‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
        }

        // ‡¶á‡¶â‡¶ü‡¶ø‡¶≤‡¶ø‡¶ü‡¶ø ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function showMessage(elementId, message, type) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = `message ${type}`;
            element.style.display = 'block';
            
            setTimeout(() => {
                element.style.display = 'none';
            }, 5000);
        }

        function showAuth() {
            document.getElementById('auth-container').style.display = 'flex';
            document.getElementById('user-app').style.display = 'none';
        }

        function showUserApp() {
            document.getElementById('auth-container').style.display = 'none';
            document.getElementById('user-app').style.display = 'block';
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser) {
                document.getElementById('user-name').textContent = currentUser.name + (currentUser.type === 'admin' ? ' (‡¶è‡¶°‡¶Æ‡¶ø‡¶®)' : '');
                document.getElementById('user-avatar').src = currentUser.avatar || 'https://via.placeholder.com/40';
                document.getElementById('welcome-text').textContent = `${currentUser.name}, ${currentUser.type === 'admin' ? '‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°‡ßá' : ''} ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!`;
                
                // ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∂‡ßã/‡¶π‡¶æ‡¶á‡¶°
                if (currentUser.type === 'admin') {
                    document.getElementById('admin-panel').style.display = 'block';
                    loadAdminStats();
                } else {
                    document.getElementById('admin-panel').style.display = 'none';
                }
            }
        }

        function viewAllMaterials() {
            document.getElementById('study-materials').scrollIntoView({ behavior: 'smooth' });
        }

        // ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function showAllUsers() {
            const users = storageManager.loadFromLocal('users') || [];
            const students = users.filter(u => u.type === 'student');
            const container = document.getElementById('users-list');
            
            if (students.length === 0) {
                container.innerHTML = '<p>‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</p>';
            } else {
                container.innerHTML = students.map(user => `
                    <div class="user-card">
                        <img src="${user.avatar || 'https://via.placeholder.com/80'}" alt="User Avatar" class="user-avatar-large" onerror="this.src='https://via.placeholder.com/80'">
                        <h3>${user.name}</h3>
                        <p>${getClassName(user.class)}</p>
                        <p>${user.phone}</p>
                        <p>‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°: ${user.password}</p>
                        <div class="user-actions">
                            <button class="btn-success" onclick="changeUserPassword('${user.phone}')">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®</button>
                            <button class="btn-danger" onclick="deleteUser('${user.phone}')">‡¶°‡¶ø‡¶≤‡¶ø‡¶ü</button>
                        </div>
                    </div>
                `).join('');
            }
            
            container.style.display = 'grid';
            container.scrollIntoView({ behavior: 'smooth' });
        }

        function loadAdminStats() {
            const users = storageManager.loadFromLocal('users') || [];
            const materials = storageManager.loadFromLocal('studyMaterials') || [];
            const statsContainer = document.getElementById('admin-stats');
            
            const totalUsers = users.length;
            const totalMaterials = materials.length;
            const totalStudents = users.filter(u => u.type === 'student').length;
            const totalClasses = [...new Set(materials.map(m => m.class))].length;
            
            statsContainer.innerHTML = `
                <div class="stat-card">
                    <div class="stat-number">${totalUsers}</div>
                    <div class="stat-label">‡¶Æ‡ßã‡¶ü ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalStudents}</div>
                    <div class="stat-label">‡¶Æ‡ßã‡¶ü ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalMaterials}</div>
                    <div class="stat-label">‡¶Æ‡ßã‡¶ü ‡¶™‡¶°‡¶º‡¶æ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${totalClasses}</div>
                    <div class="stat-label">‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ</div>
                </div>
            `;
        }

        function showSystemStats() {
            const users = storageManager.loadFromLocal('users') || [];
            const materials = storageManager.loadFromLocal('studyMaterials') || [];
            const students = users.filter(u => u.type === 'student');
            
            let message = `‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®:\n\n`;
            message += `‚Ä¢ ‡¶Æ‡ßã‡¶ü ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ: ${users.length}\n`;
            message += `‚Ä¢ ‡¶Æ‡ßã‡¶ü ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ: ${students.length}\n`;
            message += `‚Ä¢ ‡¶Æ‡ßã‡¶ü ‡¶™‡¶°‡¶º‡¶æ: ${materials.length}\n`;
            
            // ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®
            const classStats = {};
            materials.forEach(material => {
                if (!classStats[material.class]) {
                    classStats[material.class] = 0;
                }
                classStats[material.class]++;
            });
            
            message += `\n‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶™‡¶°‡¶º‡¶æ:\n`;
            for (const [className, count] of Object.entries(classStats)) {
                message += `‚Ä¢ ${getClassName(className)}: ${count}\n`;
            }
            
            alert(message);
        }

        function changeUserPassword(phone) {
            const newPassword = prompt("‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®:");
            if (!newPassword) return;
            
            const users = storageManager.loadFromLocal('users') || [];
            const userIndex = users.findIndex(u => u.phone === phone);
            
            if (userIndex !== -1) {
                users[userIndex].password = newPassword;
                storageManager.hybridSave('users', users);
                alert("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá");
                showAllUsers();
            }
        }

        function deleteUser(phone) {
            if (confirm("‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
                const users = storageManager.loadFromLocal('users') || [];
                const filteredUsers = users.filter(u => u.phone !== phone);
                
                storageManager.hybridSave('users', filteredUsers);
                showAllUsers();
                loadAdminStats();
            }
        }

        // ‡¶â‡¶á‡¶®‡ßç‡¶°‡ßã‡¶§‡ßá ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
        window.openShareModal = openShareModal;
        window.closeShareModal = closeShareModal;
        window.openEditModal = openEditModal;
        window.closeEditModal = closeEditModal;
        window.openAdminSettings = openAdminSettings;
        window.closeAdminSettings = closeAdminSettings;
        window.toggleProfileSection = toggleProfileSection;
        window.toggleProfileUpdate = toggleProfileUpdate;
        window.viewAllMaterials = viewAllMaterials;
        window.openImageModal = openImageModal;
        window.closeImageModal = closeImageModal;
        window.deleteMaterial = deleteMaterial;
        window.showAllUsers = showAllUsers;
        window.showSystemStats = showSystemStats;
        window.changeUserPassword = changeUserPassword;
        window.deleteUser = deleteUser;
        window.handleAdminLogin = handleAdminLogin;
    </script>
</body>
</html>